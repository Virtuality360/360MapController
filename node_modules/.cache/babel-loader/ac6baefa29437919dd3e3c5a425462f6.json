{"ast":null,"code":"import _createForOfIteratorHelper from\"/var/www/html/wp-content/reactpress/apps/360MapController/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"/var/www/html/wp-content/reactpress/apps/360MapController/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Pannellum}from\"pannellum-react\";import{Images}from\"./PanoConfigs/PanoConfigJesse.json\";import CustomPannellumHotspot from\"./CustomPannellumHotspot\";import{jsx as _jsx}from\"react/jsx-runtime\";var PannellumReact=function PannellumReact(props){function loadLatLong(){for(var i=0;i<Images.length;i++){if(props.latLong[0]===Images[i].Latitude){if(props.latLong[1]===Images[i].Longitude){return Images[i].ImageId;}}}return null;}var _useState=useState(loadLatLong()),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),yaw=_useState4[0],setYaw=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),pitch=_useState6[0],setPitch=_useState6[1];function getJSONIndex(){for(var i=0;i<Images.length;i++){if(id===Images[i].ImageId){return i;}}return null;}function handleClickHotspot(path,pitch,yaw){setYaw(yaw);setPitch(pitch);setId(path);}var hotspots=[];var _Images$getJSONIndex=Images[getJSONIndex()],ImageSrc=_Images$getJSONIndex.ImageSrc,Hotspots=_Images$getJSONIndex.Hotspots;if(Hotspots!=null){var _iterator=_createForOfIteratorHelper(Hotspots),_step;try{var _loop=function _loop(){var _step$value=_step.value,Pitch=_step$value.Pitch,Yaw=_step$value.Yaw,Path=_step$value.Path;hotspots.push(/*#__PURE__*/ /*<Pannellum.Hotspot\n        type=\"custom\"\n        pitch={Pitch}\n        yaw={Yaw}\n        key={shortid.generate()}\n        handleClick={() => handleClickHotspot(Path, Pitch, Yaw)}\n      />*/_jsx(CustomPannellumHotspot,{type:\"custom\",pitch:Pitch,yaw:Yaw,handleClick:function handleClick(){return handleClickHotspot(Path,Pitch,Yaw);}//handleClick = {_.bind(handleClickHotspot, this)}\n}));};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Pannellum,{width:\"100%\",height:\"100vh\",image:ImageSrc,pitch:pitch,yaw:yaw,hfov:110,autoLoad:true,onLoad:function onLoad(){console.log(\"panorama loaded\");},children:hotspots})});};export default PannellumReact;","map":{"version":3,"sources":["/var/www/html/wp-content/reactpress/apps/360MapController/src/PannellumReact.jsx"],"names":["React","useState","Pannellum","Images","CustomPannellumHotspot","PannellumReact","props","loadLatLong","i","length","latLong","Latitude","Longitude","ImageId","id","setId","yaw","setYaw","pitch","setPitch","getJSONIndex","handleClickHotspot","path","hotspots","ImageSrc","Hotspots","Pitch","Yaw","Path","push","console","log"],"mappings":"wXAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,iBAA1B,CACA,OAASC,MAAT,KAAuB,oCAAvB,CACA,MAAOC,CAAAA,sBAAP,KAAmC,0BAAnC,C,2CAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,CAChC,QAASC,CAAAA,WAAT,EAAuB,CACrB,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGL,MAAM,CAACM,MAA3B,CAAmCD,CAAC,EAApC,CAAwC,CACtC,GAAIF,KAAK,CAACI,OAAN,CAAc,CAAd,IAAqBP,MAAM,CAACK,CAAD,CAAN,CAAUG,QAAnC,CAA6C,CAC3C,GAAIL,KAAK,CAACI,OAAN,CAAc,CAAd,IAAqBP,MAAM,CAACK,CAAD,CAAN,CAAUI,SAAnC,CAA8C,CAC5C,MAAOT,CAAAA,MAAM,CAACK,CAAD,CAAN,CAAUK,OAAjB,CACD,CACF,CACF,CACD,MAAO,KAAP,CACD,CAV+B,cAYZZ,QAAQ,CAACM,WAAW,EAAZ,CAZI,wCAYzBO,EAZyB,eAYrBC,KAZqB,8BAaVd,QAAQ,CAAC,CAAD,CAbE,yCAazBe,GAbyB,eAapBC,MAboB,8BAcNhB,QAAQ,CAAC,CAAD,CAdF,yCAczBiB,KAdyB,eAclBC,QAdkB,eAgBhC,QAASC,CAAAA,YAAT,EAAwB,CACtB,IAAK,GAAIZ,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGL,MAAM,CAACM,MAA3B,CAAmCD,CAAC,EAApC,CAAwC,CACtC,GAAIM,EAAE,GAAKX,MAAM,CAACK,CAAD,CAAN,CAAUK,OAArB,CAA8B,CAC5B,MAAOL,CAAAA,CAAP,CACD,CACF,CACD,MAAO,KAAP,CACD,CAED,QAASa,CAAAA,kBAAT,CAA4BC,IAA5B,CAAkCJ,KAAlC,CAAyCF,GAAzC,CAA8C,CAC5CC,MAAM,CAACD,GAAD,CAAN,CACAG,QAAQ,CAACD,KAAD,CAAR,CACAH,KAAK,CAACO,IAAD,CAAL,CACD,CAED,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CA/BgC,yBAgCDpB,MAAM,CAACiB,YAAY,EAAb,CAhCL,CAgCxBI,QAhCwB,sBAgCxBA,QAhCwB,CAgCdC,QAhCc,sBAgCdA,QAhCc,CAkChC,GAAIA,QAAQ,EAAI,IAAhB,CAAsB,0CACeA,QADf,mEACPC,KADO,aACPA,KADO,CACAC,GADA,aACAA,GADA,CACKC,IADL,aACKA,IADL,CAElBL,QAAQ,CAACM,IAAT,eACE;AACR;AACA;AACA;AACA;AACA;AACA,UAEQ,KAAC,sBAAD,EACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAEH,KAFT,CAGE,GAAG,CAAEC,GAHP,CAIE,WAAW,CAAE,6BAAMN,CAAAA,kBAAkB,CAACO,IAAD,CAAOF,KAAP,CAAcC,GAAd,CAAxB,EACb;AALF,EATF,EAFkB,EACpB,+CAA6C,SAkB5C,CAnBmB,qDAoBrB,CAED,mBACE,kCACE,KAAC,SAAD,EACE,KAAK,CAAC,MADR,CAEE,MAAM,CAAC,OAFT,CAGE,KAAK,CAAEH,QAHT,CAIE,KAAK,CAAEN,KAJT,CAKE,GAAG,CAAEF,GALP,CAME,IAAI,CAAE,GANR,CAOE,QAAQ,KAPV,CAQE,MAAM,CAAE,iBAAM,CACZc,OAAO,CAACC,GAAR,CAAY,iBAAZ,EACD,CAVH,UAYGR,QAZH,EADF,EADF,CAkBD,CA1ED,CA4EA,cAAelB,CAAAA,cAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Pannellum } from \"pannellum-react\";\nimport { Images } from \"./PanoConfigs/PanoConfigJesse.json\";\nimport CustomPannellumHotspot from \"./CustomPannellumHotspot\";\n\nconst PannellumReact = (props) => {\n  function loadLatLong() {\n    for (var i = 0; i < Images.length; i++) {\n      if (props.latLong[0] === Images[i].Latitude) {\n        if (props.latLong[1] === Images[i].Longitude) {\n          return Images[i].ImageId;\n        }\n      }\n    }\n    return null;\n  }\n\n  const [id, setId] = useState(loadLatLong());\n  const [yaw, setYaw] = useState(0);\n  const [pitch, setPitch] = useState(0);\n\n  function getJSONIndex() {\n    for (var i = 0; i < Images.length; i++) {\n      if (id === Images[i].ImageId) {\n        return i;\n      }\n    }\n    return null;\n  }\n\n  function handleClickHotspot(path, pitch, yaw) {\n    setYaw(yaw);\n    setPitch(pitch);\n    setId(path);\n  }\n\n  let hotspots = [];\n  const { ImageSrc, Hotspots } = Images[getJSONIndex()];\n\n  if (Hotspots != null) {\n    for (const { Pitch, Yaw, Path } of Hotspots) {\n      hotspots.push(\n        /*<Pannellum.Hotspot\n        type=\"custom\"\n        pitch={Pitch}\n        yaw={Yaw}\n        key={shortid.generate()}\n        handleClick={() => handleClickHotspot(Path, Pitch, Yaw)}\n      />*/\n\n        <CustomPannellumHotspot\n          type=\"custom\"\n          pitch={Pitch}\n          yaw={Yaw}\n          handleClick={() => handleClickHotspot(Path, Pitch, Yaw)}\n          //handleClick = {_.bind(handleClickHotspot, this)}\n        />\n      );\n    }\n  }\n\n  return (\n    <div>\n      <Pannellum\n        width=\"100%\"\n        height=\"100vh\"\n        image={ImageSrc}\n        pitch={pitch}\n        yaw={yaw}\n        hfov={110}\n        autoLoad\n        onLoad={() => {\n          console.log(\"panorama loaded\");\n        }}\n      >\n        {hotspots}\n      </Pannellum>\n    </div>\n  );\n};\n\nexport default PannellumReact;\n"]},"metadata":{},"sourceType":"module"}